<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>WinsVideo | Home</title>

  <!-- Bootstrap core CSS -->
  <link href="./vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="./css/simple-sidebar.css" rel="stylesheet">

  <link href="./css/global.css" rel="stylesheet">

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

  <script src="vendor/js/videos.js"></script> 
  <script src="vendor/js/navbar.js"></script> 

  

</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light border-bottom top-navbar sticky is-sticky" data-toggle="sticky-onscroll" style="padding: 4.5px 16px; background-color: #fff;">
        <button id="menu-toggle">
            <span class="material-icons" style="color: #ddd">
                menu
            </span>
        </button>

        <a class="navbar-brand" href="">
            <img src="./icons/WinsVideoLogo.png" id="logo">
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="material-icons" style="color: #ddd">
            menu
        </span>
          </button>

          <form method="GET" enctype="multipart/form-data" class="form-inline" style="margin-left: 50px;">
            <input id="searchBar" type="search" placeholder="Search" aria-label="Search">
            <button id="searchButton" type="submit">
              <span class="material-icons">search</span>
            </button>
          </form>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="upload.html">
                <button id="uploadButton">Upload</button>
              </a>
            </li>
            <li class="nav-item" id="profileButtonContainer" href="login.html"></li>
            <script src="vendor/jquery/jquery.min.js"></script>
            <script>
                function getUserSignedInData(username) {
                    const api_url2 = "https://beta.winsvideo.netapi/users/info/"; 
                    async function getapi(url) { 
                        // Storing response 
                        const response = await fetch(url); 
                        
                        // Storing data in form of JSON 
                        var data = await response.json(); 
                        console.log(data.error); 

                        const results = [data.username];
                        return  
                    }

                    getapi(api_url2); 
                }

                let data = '<%= data.userSignedIn %>';
                if (data == "") { 
                  // document.write("<li class='nav-item'></li>");
                  document.getElementById("profileButtonContainer").innerHTML = "<a class='nav-link' href='login.html'><button id='signInButton'>Sign In</button></a>"; 
                } else {
                  document.getElementById("profileButtonContainer").innerHTML = "Signed In";
                  console.log("signed in");
                }
            </script>
          </ul>
        </div>
      </nav>

  <div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div class="border-right" id="sidebar-wrapper" style="width: 230px">
        <div class="menuItems">
                <a href="test" class="menu active">
                    <span class="material-icons navigationIcons">
                        home
                    </span>
                    <span class="menu-text">Home</span>
                </a>
                <a href="test" class="menu">
                    <span class="material-icons navigationIcons">
                        local_fire_department
                    </span>
                    <span class="menu-text">Trending</span>
                </a>
                <hr style="margin: 3px;">
                <b><span style="font-size: 13px; color: green">Account</span></b>
                <a href="test" class="menu">
                    <span class="material-icons navigationIcons">
                        thumbs_up_down
                    </span>
                    <span class="menu-text">Liked</span>
                </a>
                <a href="test" class="menu">
                    <span class="material-icons navigationIcons">
                        subscriptions
                    </span>
                    <span class="menu-text">Subscriptions</span>
                </a>
                <a href="test" class="menu">
                    <span class="material-icons navigationIcons">
                        hourglass_empty
                    </span>
                    <span class="menu-text">History</span>
                </a>
        </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper" class="bg-light">
      <div class="container-fluid">
        <div class="column">

          <span>Recommended</span>
          <hr>

            <!-- Here a loader is created which  
             loads till response comes -->
              <div class="d-flex justify-content-center"> 
                <div class="spinner-border" 
                    role="status" id="loading"> 
                    <span class="sr-only">Loading...</span> 
                </div> 
            </div> 
            <!-- videogrid -->
            <div id="videoGrid" class="videoGrid"></div>
        </div>
      </div>
    </div>
    <!-- /#page-content-wrapper -->
  </div>
  <!-- /#wrapper -->

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Menu Toggle Script -->
  <script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });    
  </script>

</body>

</html>